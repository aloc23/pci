<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Court Booking - Padel Club</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="booking.css">
</head>
<body>
  <header>
    <div class="header-content">
      <div class="logo-section">
        <img src="logo.svg" alt="Padel Club Logo">
        <h1>Padel Club Court Booking</h1>
      </div>
      <nav>
        <a href="index.html" class="nav-link">
          <svg class="nav-icon" viewBox="0 0 24 24">
            <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
          </svg>
          Dashboard
        </a>
        <a href="booking.html" class="nav-link active">
          <svg class="nav-icon" viewBox="0 0 24 24">
            <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>
          </svg>
          Book Court
        </a>
        <a href="index.html#xp" class="nav-link">
          <svg class="nav-icon" viewBox="0 0 24 24">
            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
          </svg>
          XP & Rewards
        </a>
        <a href="index.html#checkin" class="nav-link">
          <svg class="nav-icon" viewBox="0 0 24 24">
            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
          Check-in
        </a>
        <a href="index.html#shop" class="nav-link">
          <svg class="nav-icon" viewBox="0 0 24 24">
            <path d="M7 18c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12L8.1 13h7.45c.75 0 1.41-.41 1.75-1.03L21.7 4H5.21l-.94-2H1zm16 16c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
          </svg>
          Shop
        </a>
        <a href="index.html#locker" class="nav-link">
          <svg class="nav-icon" viewBox="0 0 24 24">
            <path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"/>
          </svg>
          Locker
        </a>
        <button onclick="openAdminModal()" class="nav-link admin-login-btn" id="adminLoginBtn">
          <svg class="nav-icon" viewBox="0 0 24 24">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
          </svg>
          Admin
        </button>
      </nav>
    </div>
  </header>

  <main>
    <!-- Booking View Toggle -->
    <section id="view-toggle">
      <div class="view-controls">
        <button class="view-btn active" onclick="switchView('form')" id="formViewBtn">
          <svg class="nav-icon" viewBox="0 0 24 24">
            <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
          </svg>
          Form View
        </button>
        <button class="view-btn" onclick="switchView('calendar')" id="calendarViewBtn">
          <svg class="nav-icon" viewBox="0 0 24 24">
            <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>
          </svg>
          Calendar View
        </button>
      </div>
    </section>

    <!-- Form View -->
    <section id="booking" class="booking-view active">
      <h2>Book a Court</h2>
      
      <div class="booking-form">
        <div class="form-group">
          <label for="bookingDate">Select Date:</label>
          <input type="date" id="bookingDate" required>
        </div>
        
        <div class="form-group">
          <label for="courtSelect">Select Court:</label>
          <select id="courtSelect" required>
            <option value="">Choose a court...</option>
            <option value="1">Court 1</option>
            <option value="2">Court 2</option>
            <option value="3">Court 3</option>
            <option value="4">Court 4</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="timeSelect">Select Time:</label>
          <select id="timeSelect" required>
            <option value="">Choose a time...</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="duration">Duration:</label>
          <select id="duration" required>
            <option value="60">1 hour - €35</option>
            <option value="90">1.5 hours - €50</option>
            <option value="120">2 hours - €65</option>
          </select>
        </div>
        
        <!-- Group Booking Section -->
        <div class="form-group">
          <label>
            <input type="checkbox" id="groupBooking" onchange="toggleGroupBooking()"> Group Booking
          </label>
        </div>
        
        <div id="groupBookingSection" class="group-booking-section" style="display: none;">
          <h4>Group Booking Details</h4>
          <div class="form-group">
            <label for="groupSize">Number of Players (including you):</label>
            <select id="groupSize" onchange="updateGroupPlayers()">
              <option value="2">2 Players</option>
              <option value="3">3 Players</option>
              <option value="4">4 Players</option>
            </select>
          </div>
          
          <div id="groupPlayersContainer">
            <!-- Dynamic player inputs will be added here -->
          </div>
          
          <div class="split-payment-section">
            <label>
              <input type="checkbox" id="splitPayment"> Split Payment Equally
            </label>
            <div id="paymentBreakdown" style="margin-top: 1rem; display: none;">
              <!-- Payment breakdown will be shown here -->
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label for="playerName">Your Name:</label>
          <input type="text" id="playerName" placeholder="Enter your name" required>
        </div>
        
        <!-- Payment Method Selection -->
        <div class="payment-section">
          <h4>Payment Method</h4>
          <div class="payment-options">
            <label class="payment-option">
              <input type="radio" name="paymentMethod" value="apple" checked>
              <svg class="payment-icon" viewBox="0 0 24 24">
                <path d="M15.5 2.25c.9 0 1.73.36 2.33.96.6.6.96 1.43.96 2.33 0 .9-.36 1.73-.96 2.33-.6.6-1.43.96-2.33.96-.9 0-1.73-.36-2.33-.96-.6-.6-.96-1.43-.96-2.33 0-.9.36-1.73.96-2.33.6-.6 1.43-.96 2.33-.96z"/>
              </svg>
              Apple Pay
            </label>
            <label class="payment-option">
              <input type="radio" name="paymentMethod" value="google">
              <svg class="payment-icon" viewBox="0 0 24 24">
                <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
              </svg>
              Google Pay
            </label>
            <label class="payment-option">
              <input type="radio" name="paymentMethod" value="standard">
              <svg class="payment-icon" viewBox="0 0 24 24">
                <path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"/>
              </svg>
              Credit Card
            </label>
          </div>
        </div>
        
        <button type="button" onclick="bookCourt()" class="book-button">
          <svg class="action-icon" viewBox="0 0 24 24">
            <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>
          </svg>
          Book Court
        </button>
      </div>
      
      <div id="bookingStatus" class="status-message"></div>
    </section>

    <!-- Calendar View -->
    <section id="calendar-view" class="booking-view">
      <h2>Drag & Drop Calendar</h2>
      <div class="calendar-container">
        <div class="calendar-header">
          <button onclick="changeWeek(-1)" class="nav-button">‹ Previous Week</button>
          <span id="currentWeek"></span>
          <button onclick="changeWeek(1)" class="nav-button">Next Week ›</button>
        </div>
        <div class="calendar-grid" id="calendarGrid">
          <!-- Calendar will be populated by JavaScript -->
        </div>
        <div class="calendar-legend">
          <span class="legend-item available">Available</span>
          <span class="legend-item booked">Booked</span>
          <span class="legend-item selected">Selected</span>
        </div>
      </div>
    </section>
    
    <section id="current-bookings">
      <h2>Today's Bookings</h2>
      <div class="bookings-grid" id="bookingsGrid">
        <!-- Bookings will be populated by JavaScript -->
      </div>
    </section>

    <!-- Booking History Timeline -->
    <section id="booking-history" class="history-section">
      <h2>Booking History</h2>
      <div class="timeline-container">
        <div class="timeline-controls">
          <button class="timeline-filter active" data-filter="all">All</button>
          <button class="timeline-filter" data-filter="completed">Completed</button>
          <button class="timeline-filter" data-filter="upcoming">Upcoming</button>
          <button class="timeline-filter" data-filter="cancelled">Cancelled</button>
        </div>
        <div class="timeline" id="bookingTimeline">
          <!-- Timeline will be populated by JavaScript -->
        </div>
      </div>
    </section>

    <div class="operating-hours">
      <h3>Operating Hours</h3>
      <ul>
        <li><strong>Monday - Saturday:</strong> 7:00 AM - 11:00 PM</li>
        <li><strong>Sunday:</strong> 8:00 AM - 11:00 PM</li>
      </ul>
    </div>
  </main>

  <!-- Enhanced Group Booking Modal -->
  <div id="groupBookingModal" class="modal-overlay">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Group Booking</h2>
        <button class="modal-close" onclick="closeGroupBookingModal()">&times;</button>
      </div>
      
      <div class="modal-body">
        <div class="group-section">
          <h3>Group Size</h3>
          <div class="group-size-selector">
            <button class="size-btn" data-size="2">2 Players</button>
            <button class="size-btn active" data-size="4">4 Players</button>
            <button class="size-btn" data-size="6">6 Players</button>
            <button class="size-btn" data-size="8">8 Players</button>
          </div>
        </div>

        <div class="players-section">
          <h3>Player Details</h3>
          <div id="playersContainer">
            <!-- Players will be generated dynamically -->
          </div>
          <button class="btn-secondary" onclick="suggestPartners()">
            <svg class="action-icon" viewBox="0 0 24 24">
              <path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.5-12h-3l-2.5 12H17v6h3zM12.5 11.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5S11 9.17 11 10s.67 1.5 1.5 1.5zM5.5 6c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2zm2 16v-7H9V9.5C9 8.12 8.12 7 6.75 7h-2.5C3.12 7 2.25 8.12 2.25 9.5V15H4v7h3.5z"/>
            </svg>
            Suggest Partners
          </button>
        </div>

        <div class="payment-section">
          <h3>Payment Options</h3>
          <div class="payment-option-group">
            <label class="payment-option-card">
              <input type="radio" name="groupPayment" value="single" checked>
              <div class="option-content">
                <h4>Single Payment</h4>
                <p>One person pays for the entire booking</p>
              </div>
            </label>
            
            <label class="payment-option-card">
              <input type="radio" name="groupPayment" value="split">
              <div class="option-content">
                <h4>Split Payment</h4>
                <p>Each player pays their share</p>
              </div>
            </label>
          </div>

          <div id="splitPaymentDetails" class="split-details" style="display: none;">
            <h4>Payment Split</h4>
            <div id="paymentBreakdown"></div>
          </div>
        </div>

        <div class="invite-section">
          <h3>Invite Friends</h3>
          <div class="invite-methods">
            <button class="invite-btn" onclick="shareViaEmail()">
              <svg class="action-icon" viewBox="0 0 24 24">
                <path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
              </svg>
              Email Invitation
            </button>
            
            <button class="invite-btn" onclick="shareViaWhatsApp()">
              <svg class="action-icon" viewBox="0 0 24 24">
                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.893 3.488"/>
              </svg>
              WhatsApp
            </button>
            
            <button class="invite-btn" onclick="copyBookingLink()">
              <svg class="action-icon" viewBox="0 0 24 24">
                <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
              </svg>
              Copy Link
            </button>
          </div>
        </div>
      </div>

      <div class="modal-footer">
        <button class="btn-secondary" onclick="closeGroupBookingModal()">Cancel</button>
        <button class="btn-primary" onclick="confirmGroupBooking()">Confirm Group Booking</button>
      </div>
    </div>
  </div>

  <!-- Admin Login Modal -->
  <div id="adminLoginModal" class="modal-overlay">
    <div class="modal-content admin-modal">
      <div class="modal-header">
        <h2>Admin Access</h2>
        <button class="modal-close" onclick="closeAdminModal()">&times;</button>
      </div>
      
      <div class="modal-body">
        <div class="admin-login-form">
          <div class="form-group">
            <label for="adminUsername">Username:</label>
            <input type="text" id="adminUsername" placeholder="Enter admin username" required>
          </div>
          <div class="form-group">
            <label for="adminPassword">Password:</label>
            <input type="password" id="adminPassword" placeholder="Enter admin password" required>
          </div>
          <div class="demo-notice">
            <p><small>Demo Mode: Use any credentials or click "Demo Login"</small></p>
          </div>
        </div>
      </div>

      <div class="modal-footer">
        <button class="btn-secondary" onclick="closeAdminModal()">Cancel</button>
        <button class="btn-secondary" onclick="demoAdminLogin()">Demo Login</button>
        <button class="btn-primary" onclick="adminLogin()">Login</button>
      </div>
    </div>
  </div>

  <!-- Mobile Action Bar -->
  <div class="mobile-action-bar" id="mobileActionBar">
    <button class="action-btn quick-book" onclick="quickBook()" data-tooltip="Quick Book">
      <svg class="action-icon" viewBox="0 0 24 24">
        <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>
      </svg>
    </button>
    <button class="action-btn calendar-view" onclick="switchView('calendar')" data-tooltip="Calendar">
      <svg class="action-icon" viewBox="0 0 24 24">
        <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>
      </svg>
    </button>
    <button class="action-btn form-view" onclick="switchView('form')" data-tooltip="Form">
      <svg class="action-icon" viewBox="0 0 24 24">
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
      </svg>
    </button>
    <button class="action-btn help" onclick="showHelp()" data-tooltip="Help">
      <svg class="action-icon" viewBox="0 0 24 24">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"/>
      </svg>
    </button>
  </div>

  <!-- Neon Tooltip -->
  <div class="neon-tooltip" id="neonTooltip"></div>

  <footer>
    <p>Padel Club &copy; 2025</p>
  </footer>

  <script src="script.js"></script>
  <script src="booking.js"></script>
</body>
</html>